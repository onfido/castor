@use '../../helpers';
@use '../../mixins';

@mixin Radio() {
  $transition: 0.15s ease-out;
  $input-size: helpers.space(2.75);
  $input-margin: 1px;

  .ods-radio-label {
    @include helpers.font('300-regular');
    @include mixins.interactive();

    $padding: (helpers.space(6) - $input-size - $input-margin * 2) / 2;

    --color: #{helpers.color('content-main')};

    color: var(--color);
    display: inline-flex;
    gap: $padding;
    padding: $padding;
    position: relative;

    &.-bordered {
      --border-color: #{helpers.color('border-separator')};

      background-color: var(--background-color);
      border: 1px solid var(--border-color);
      border-radius: helpers.border-radius('medium');
      display: flex;
      transition: $transition;
      transition-property: background-color;
    }

    &.-checked {
      --background-color: #{helpers.color('background-action-subtle')};
      --border-color: #{helpers.color('border-action-subtle')};
    }

    &.-disabled {
      --background-color: unset;
      --border-color: #{helpers.color('border-disabled')};
      --color: #{helpers.color('content-disabled')};
    }

    > :nth-child(2) ~ * {
      padding-right: helpers.space(2) - $padding;
    }
  }

  .ods-radio-input {
    @include mixins.interactive();
    @include mixins.with-outer-focus('action');

    appearance: none;
    border: 2px solid #{helpers.color('border-input')};
    transition: $transition;
    transition-property: background-color;

    &,
    + span {
      @include mixins.square($input-size);

      border-radius: helpers.border-radius('full');
      margin: $input-margin;
    }

    + span {
      background-color: helpers.color('content-action');
      position: absolute;
      transform: scale(0);
      transition: $transition;
      transition-property: transform;
    }

    &:hover {
      border-color: #{helpers.color('border-input-hover')};
    }

    &:checked {
      border-color: #{helpers.color('content-action')};
    }

    &:checked + span {
      transform: scale(0.6);
    }

    &.-invalid {
      @include mixins.with-outer-focus('negative');
      border-color: #{helpers.color('border-negative')};
    }

    &.-invalid + span {
      background-color: helpers.color('content-negative');
    }

    &:disabled {
      background-color: helpers.color('background-disabled');
      border-color: #{helpers.color('border-disabled')};
    }

    &:disabled + span {
      background-color: helpers.color('content-disabled');
    }
  }
}
