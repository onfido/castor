@use '../../helpers';
@use '../../mixins';

@mixin Radio() {
  $transition: 0.15s ease-out;
  $input-size: helpers.space(2.75);
  $input-margin: 1px;

  .ods-radio-label {
    @include mixins.interactive();

    $padding: (helpers.space(6) - $input-size - $input-margin * 2) / 2;

    display: inline-flex;
    gap: $padding;
    padding: $padding;
    position: relative;
    transition: $transition;
    transition-property: background-color, border-color;

    &.-bordered {
      border: 1px solid helpers.color('border-separator');
      border-radius: helpers.border-radius('medium');
      display: flex;
    }

    &.-bordered.-checked {
      background-color: helpers.color('background-action-subtle');
      border-color: helpers.color('border-action-subtle');
    }

    &.-disabled {
      border-color: helpers.color('border-disabled');
    }

    > :not([aria-hidden='true']) {
      display: flex;
      flex-direction: column;
      padding-right: helpers.space(0.5);
      white-space: pre-line;
    }

    :not([aria-hidden='true']) :nth-child(1) {
      @include helpers.font('300-regular');
      color: helpers.color('content-main');
    }

    :not([aria-hidden='true']) :nth-child(2) {
      @include helpers.font('200-regular');
      color: helpers.color('content-secondary');
    }

    &.-disabled :not([aria-hidden='true']) > * {
      color: helpers.color('content-disabled');
    }
  }

  .ods-radio-input {
    @include mixins.interactive();
    @include mixins.with-outer-focus('action');

    appearance: none;
    border: 2px solid helpers.color('border-separator');
    margin: $input-margin;
    transition: $transition;
    transition-property: background-color, border-color;

    &,
    + span {
      @include mixins.square($input-size);
      border-radius: helpers.border-radius('full');
    }

    + span {
      background-color: helpers.color('content-action');
      position: absolute;
      transform: scale(0);
      transition: transform $transition;
    }

    &:checked {
      border-color: helpers.color('content-action');

      + span {
        transform: scale(0.6);
      }
    }

    &.-invalid {
      @include mixins.with-outer-focus('negative');
      border-color: helpers.color('border-negative');
    }

    &.-invalid + span {
      background-color: helpers.color('content-negative');
    }

    &:disabled {
      background-color: helpers.color('background-disabled');
      border-color: helpers.color('border-disabled');

      + span {
        display: none;
      }
    }
  }
}
